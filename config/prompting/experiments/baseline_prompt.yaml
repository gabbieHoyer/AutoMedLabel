## Baseline Zeroshot Prompting Experimentation Config

# -------------- Zero-Shot / Prompting -------------- #
experiment:
  name: SOTA_Comparison
  description: "Prompt Inference for comparison of SAM and MedSAM weights; full image preprocessing."

input_cfg:
  image_path: ${nifti_image_dir}                 
  gt_path: ${nifti_mask_dir}                     
  path_ext: '.nii.gz'
  ml_metadata_file: ${ml_metadata_file}  
  split: 'test' 

preprocessing_cfg:
  crop_non_zero_slices_flag: False
  bbox_shift: 20
  instance_bboxes_flag: ${prompt_experiment.preprocessing_cfg.instance_bboxes_flag}
  infer_method: '3D_stepwise'

device: cuda:0

models:
  - model_path: 'work_dir/model_weights/SAM/sam_vit_b_01ec64.pth'
    model_weights: 'SAM'
    model_type: vit_b
  - model_path: 'work_dir/model_weights/MedSAM/medsam_vit_b.pth'
    model_weights: 'medSAM'
    model_type: vit_b

# design: # mskscratch/mskSAM/(exp_name: SOTA_Comparison/miniKnee)/(weights_name: SAM/MedSAM/miniTBrecon)/(dataset_name: TBrecon)/(figs/bbox_figs/preds)
# base_output_dir: ${project_output_dir}/${experiment.name}/${models.model_weights}/DATASET.name
base_output_dir: ${project_output_dir}/${experiment.name}/DATASET.name/${models.model_weights}


# --- OUTPUT: Location to output (gt, prediction) .npz files
inference_dir: preds

output_configuration:
  save_path: work_dir/prompting/${experiment.name}/Prompt_Summaries
  logging_level: DEBUG 

# ------------------ VISUALIZE NPY ------------------ #
gt_pred_npz_fig_cfg:
  fig_type: ['2D_overlay', 'gif'] 
  num_figs: 3  
  slice_selection: 'with_segmentation' 
  fig_path: figs

bbox_prompt_npz_fig_cfg:
  fig_type: ['2D_overlay', 'gif']
  num_figs: 5  
  slice_selection: 'with_segmentation'
  fig_path: bbox_prompt_figs

# ----------------------- Metrics for Statistics --------------- #
metric_cfg:
  save_path: metrics
  metric_list: [dice, hausdorff, IoU, sensitivity_specificity]  
  compute_average: False #tbd

# ----------------------- Image Embeddings ----------------------- #
embedding_cfg:
  save_path: embeddings
  high_res: True 






